<header class="d-flex justify-content-around p-2 ">
  <%= link_to fa_icon('arrow-left'), root_path, class: 'back-arrow' %>

  <h1 class="page-title">CATEGORIES</h1>

  <button class="header-link"><%= link_to "Log out", destroy_user_session_path, method: :delete %></button>
</header>

<div class="container">
  <div class="d-flex border mb-1 p-4 mt-5">
    <% if @groups.empty? %>
      <h2 class="splash-welcome">There are not categories yet!</h2>
      <p class="splash-text">Create your first category by clicking on the button below.</p>
    <% else %>
      <ul class="groups-list">
        <% @groups.each do |group| %>
          <li class="groups-list-item">
            <img src="<%= group.icon %>" alt="Category icon image">
            <div class="group-info">
              <h2><%= group.name %></h2>
              <p><%= link_to 'View transactions', group_path(group.id) %></p>
            </div>
            <% total = 0.00 %>
            <% group.group_entities.each {|group_entity| total += group_entity.entity.amount} %>
            <span class="amount">$<%= total %></span>
          </li>
        <% end %>
      </ul>
    <% end %>
  </div>
  <div class="text-light footer d-flex justify-content-center p-3">
    <%= link_to 'New Category', new_group_path, method: :get, class: 'btn border border-dark p-2' %>
  </div>
</div> 
<%# <p style="color: green"><%= notice %</p>

<h1>Groups</h1>

<div id="groups">
  <% @groups.each do |group| %
    <%= render group %
    <p>
      <%= link_to "Show this group", group %
    </p>
  <% end %
</div>

<%= link_to "New group", new_group_path % %>
